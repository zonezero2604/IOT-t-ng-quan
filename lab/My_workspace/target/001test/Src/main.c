/**
 ******************************************************************************
 * @file           : main.c
 * @author         : Auto-generated by STM32CubeIDE
 * @brief          : Main program body
 ******************************************************************************
 * @attention
 *
 * Copyright (c) 2022 STMicroelectronics.
 * All rights reserved.
 *
 * This software is licensed under terms that can be found in the LICENSE file
 * in the root directory of this software component.
 * If no LICENSE file comes with this software, it is provided AS-IS.
 *
 ******************************************************************************
 */


#include <stdint.h>
#include <stdio.h>
#include <timer.h>
#include <Ucglib.h>

void AppInitCommon(void);
static ucg_t ucg;
int main(void)
{
	char str[] = "NguyenMinhChau";
	AppInitCommon();
    /* Loop forever */
	while(1)
	{

// Test
//		ucg_DrawString(&ucg, 0, 13, 0,"*");
//		ucg_DrawString(&ucg, 8, 13, 0,"*");
//		ucg_DrawString(&ucg, 16, 13, 0,"*");
//		ucg_DrawString(&ucg, 0, 20, 0,"*");
//		ucg_DrawString(&ucg, 0, 13, 0,str);
//		ucg_DrawString(&ucg, 0, 28, 0,"ProgrammingHa");
		processTimerScheduler();
	}

}

void AppInitCommon(void)
{
	TimerInit();// Khởi tạo timer để cho phép timer hoạt động và thực thi các câu lệnh hiển thị dữ liệu lên màn hình LCD.
	Ucglib4WireSWSPI_begin(&ucg, UCG_FONT_MODE_SOLID);// Cấu hình các chân giao tiếp SPI của STM32 với màn hình LCD.
	ucg_ClearScreen(&ucg);// Xóa màn hình hiển thị LCD.
	ucg_SetFont(&ucg, ucg_font_ncenR12_hr);// Cài đặt font chữ kiểu ncenR12_hr để hiển thị.
	ucg_SetColor(&ucg, 0, 255, 255, 255);// Set màu trắng cho text hiển thị.
	ucg_SetColor(&ucg, 1, 0, 0, 0);// Set màu đen cho nền hiển thị (background).
	ucg_SetRotate180(&ucg);// Xoay màn hình một góc 180 độ.

	for(int i=0; i<=16; i=i+8)
			{
				ucg_DrawString(&ucg, i, 13, 0,"*");
				ucg_DrawString(&ucg, i, 28, 0,"*");
				ucg_DrawString(&ucg, i, 36, 0,"*");


			}

	}
